import React, { useState } from "react";

const quizData = [
  {
    question: "What does FHE stand for?",
    options: [
      "Fast Homomorphic Encryption",
      "Fully Homomorphic Encryption",
      "Fractional Homomorphic Encryption",
      "Fundamental Homomorphic Encryption",
    ],
    answer: "Fully Homomorphic Encryption",
  },
  {
    question: "What is the key feature of FHE?",
    options: [
      "Data must be decrypted before processing",
      "Computation can happen on encrypted data without decryption",
      "It only works for strings",
      "It replaces blockchain consensus mechanism",
    ],
    answer: "Computation can happen on encrypted data without decryption",
  },
  {
    question: "Which of these is a reason Zama is building FHE tooling?",
    options: [
      "To make data fully public",
      "To enforce centralized servers",
      "To make encrypted computation accessible for developers",
      "To eliminate encryption altogether",
    ],
    answer: "To make encrypted computation accessible for developers",
  },
  {
    question: "What is FHEVM in the Zama ecosystem?",
    options: [
      "A virtual machine for fully homomorphic execution",
      "A type of token",
      "A browser extension",
      "A consensus algorithm",
    ],
    answer: "A virtual machine for fully homomorphic execution",
  },
  {
    question:
      "On Zamaâ€™s site it is claimed that Zama currently handles about how many transactions per second (tps) per chain?",
    options: ["2", "10", "20", "100"],
    answer: "20",
  },
  {
    question: "What is the purpose of Zamaâ€™s Bounty Program?",
    options: [
      "To reward developers for contributing",
      "To punish hackers",
      "To build centralized servers",
      "To sell tokens",
    ],
    answer: "To reward developers for contributing",
  },
  {
    question: "What language is primarily used in Zamaâ€™s FHE libraries?",
    options: ["Python", "Rust", "C++", "Solidity"],
    answer: "Rust",
  },
  {
    question: "Which of the following best describes Zama?",
    options: [
      "A decentralized exchange",
      "An open-source FHE company",
      "A blockchain game studio",
      "A data storage provider",
    ],
    answer: "An open-source FHE company",
  },
  {
    question: "What is the full form of FHEVM?",
    options: [
      "Fully Homomorphic Encryption Virtual Machine",
      "Fast Homomorphic Execution Virtual Machine",
      "Fully Hosted Encryption VM",
      "Free Homomorphic Engine VM",
    ],
    answer: "Fully Homomorphic Encryption Virtual Machine",
  },
  {
    question: "What is the goal of Fully Homomorphic Encryption (FHE)?",
    options: [
      "To compute on encrypted data without decrypting it",
      "To compress large files faster",
      "To hide network traffic",
      "To speed up transactions",
    ],
    answer: "To compute on encrypted data without decrypting it",
  },
];

export default function App() {
  const [started, setStarted] = useState(false);
  const [selected, setSelected] = useState({});
  const [showAnswers, setShowAnswers] = useState(false);

  const handleSelect = (qIndex, option) => {
    setSelected({ ...selected, [qIndex]: option });
  };

  if (!started) {
    return (
      <div className="min-h-screen flex flex-col justify-center items-center bg-gradient-to-br from-indigo-600 to-purple-500 text-white text-center p-6">
        <h1 className="text-5xl font-extrabold mb-4">ðŸ”¥ Zama Quiz Challenge</h1>
        <p className="text-lg mb-8 max-w-xl">
          Learn & Earn with Zama! Test your knowledge about Fully Homomorphic
          Encryption (FHE) and Zamaâ€™s technology.
        </p>
        <button
          onClick={() => setStarted(true)}
          className="px-8 py-3 bg-white text-indigo-700 font-semibold rounded-xl shadow-lg hover:bg-gray-100 transition"
        >
          Start Quiz ðŸš€
        </button>
      </div>
    );
  }

  return (
    <div className="min-h-screen flex flex-col items-center bg-gradient-to-br from-indigo-50 to-white p-6">
      <h1 className="text-3xl font-bold mb-6 text-indigo-600">
        ðŸ§  Zama Quiz Challenge
      </h1>
      <div className="w-full max-w-2xl space-y-6">
        {quizData.map((q, qIndex) => (
          <div
            key={qIndex}
            className="bg-white border border-gray-200 p-6 rounded-2xl shadow hover:shadow-lg transition"
          >
            <p className="font-semibold text-gray-800 mb-4">
              {qIndex + 1}. {q.question}
            </p>
            <div className="space-y-2">
              {q.options.map((opt, i) => (
                <button
                  key={i}
                  onClick={() => handleSelect(qIndex, opt)}
                  className={`w-full text-left px-4 py-2 rounded-lg border transition ${
                    selected[qIndex] === opt
                      ? "bg-indigo-500 text-white border-indigo-500"
                      : "bg-gray-50 hover:bg-gray-100 border-gray-300"
                  }`}
                >
                  {opt}
                </button>
              ))}
            </div>
            {showAnswers && (
              <p className="mt-3 text-green-600 font-medium">
                âœ… Correct Answer: {q.answer}
              </p>
            )}
          </div>
        ))}
      </div>
      <button
        onClick={() => setShowAnswers(true)}
        className="mt-8 px-6 py-3 bg-indigo-600 text-white rounded-xl shadow hover:bg-indigo-700 transition"
      >
        Show All Answers
      </button>
    </div>
  );
}
