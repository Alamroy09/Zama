<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Zama — FHE & OG NFT Community Quiz</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-white text-gray-900 min-h-screen flex items-center justify-center">

  <!-- Container -->
  <div id="app" class="w-full max-w-3xl mx-auto p-6">

    <!-- Start Screen -->
    <div id="start-screen" class="min-h-[60vh] flex flex-col items-center justify-center rounded-2xl p-8 shadow-lg" style="background: linear-gradient(180deg,#ffffff,#f7f9ff)">
      <div class="text-center">
        <h1 class="text-4xl md:text-5xl font-extrabold mb-2" style="background: linear-gradient(90deg,#5b21b6,#06b6d4); -webkit-background-clip: text; color: transparent;">
          Zama FHE & OG NFT Quiz
        </h1>
        <p class="text-gray-600 mt-2 max-w-2xl mx-auto">
          A community quiz to learn about Zama, Fully Homomorphic Encryption (FHE) and the OG NFT program. <span class="font-medium text-indigo-600">Good luck!</span>
        </p>
      </div>

      <div class="mt-8 flex flex-col items-center gap-4">
        <button id="start-btn"
                class="px-8 py-3 rounded-xl font-semibold shadow-lg transform hover:-translate-y-0.5 transition bg-gradient-to-r from-purple-600 to-cyan-500 text-white">
          Start Quiz
        </button>

        <p class="text-sm text-gray-500 mt-2">15 questions · One at a time · Answers revealed after submission</p>
      </div>
    </div>

    <!-- Quiz Screen -->
    <div id="quiz-screen" class="hidden min-h-[60vh] flex flex-col items-center justify-center rounded-2xl p-8 shadow-lg" style="background: linear-gradient(180deg,#ffffff,#f3f7ff)">

      <div class="w-full mb-4">
        <div class="w-full bg-gray-200 rounded-full h-2">
          <div id="progress-bar" class="h-2 rounded-full" style="width:0; background: linear-gradient(90deg,#7c3aed,#06b6d4); transition: width .3s;"></div>
        </div>
        <p id="question-number" class="text-center text-sm text-gray-600 mt-2"></p>
      </div>

      <div id="quiz-container" class="w-full flex flex-col items-center"></div>

      <div class="flex justify-between w-full mt-6">
        <button id="prev-btn" class="px-5 py-2 rounded-lg bg-gray-100 border border-gray-200 text-gray-700 hover:bg-gray-50 hidden">
          Previous
        </button>

        <div class="flex gap-3">
          <button id="next-btn" class="px-5 py-2 rounded-lg bg-gray-100 border border-gray-200 text-gray-700 hover:bg-gray-50 opacity-50" disabled>
            Next
          </button>
          <button id="submit-btn" class="px-5 py-2 rounded-lg bg-gradient-to-r from-yellow-400 to-amber-400 text-white hidden">
            Submit Score
          </button>
        </div>
      </div>

      <div id="result-area" class="w-full max-w-xl mt-6 text-center">
        <div id="score" class="text-2xl font-semibold text-gray-800 hidden"></div>

        <div id="after-actions" class="mt-4 flex flex-col items-center gap-3 hidden">
          <button id="show-answers-btn" class="w-full max-w-sm px-4 py-2 rounded-lg bg-gradient-to-r from-purple-600 to-cyan-500 text-white font-semibold">
            Show All Answers
          </button>

          <div class="flex gap-3 w-full max-w-sm">
            <button id="share-btn" class="flex-1 px-4 py-2 rounded-lg border border-gray-200 bg-white text-indigo-600 hover:bg-gray-50">
              Share on X
            </button>
            <button id="restart-btn" class="flex-1 px-4 py-2 rounded-lg bg-gray-800 text-white hover:bg-gray-700">
              Restart Quiz
            </button>
          </div>
        </div>

        <div id="answers" class="mt-4 hidden text-left bg-gray-50 rounded-lg p-4 text-gray-800 max-w-xl mx-auto" style="line-height:1.6"></div>
      </div>

    </div>

  </div>

  <script>
    // --- QUESTIONS ---
    const quizData = [
      { question: "What does FHE stand for?", options: ["Fast Homomorphic Encryption","Fully Homomorphic Encryption","Fractional Homomorphic Encryption","Fundamental Homomorphic Encryption"], answer: "Fully Homomorphic Encryption" },
      { question: "What is the key feature of FHE?", options: ["Data must be decrypted before processing","Computation can happen on encrypted data without decryption","It only works for strings","It replaces blockchain consensus mechanisms"], answer: "Computation can happen on encrypted data without decryption" },
      { question: "Why is Zama building FHE tooling?", options: ["To make data fully public","To enforce centralized servers","To make encrypted computation accessible for developers","To eliminate encryption altogether"], answer: "To make encrypted computation accessible for developers" },
      { question: "What is FHEVM in the Zama ecosystem?", options: ["A virtual machine for fully homomorphic execution","A type of token","A browser extension","A consensus algorithm"], answer: "A virtual machine for fully homomorphic execution" },
      { question: "Which encryption scheme is commonly used in Zama's libraries for fast bootstrapping and inference?", options: ["RSA","TFHE","AES","Paillier"], answer: "TFHE" },
      { question: "What is the primary goal of Zama's OG NFT program?", options: ["To sell art","To onboard and reward community creators","To promote only trading","To provide cloud hosting"], answer: "To onboard and reward community creators" },
      { question: "How can community members typically earn OG NFTs in Zama programs?", options: ["By buying from marketplaces only","By creating valuable content and participating in community tasks","By attending paid workshops only","By solving puzzles offline"], answer: "By creating valuable content and participating in community tasks" },
      { question: "Which platform does Zama often use for live community discussions and creator coordination?", options: ["LinkedIn","Discord","Flickr","Medium"], answer: "Discord" },
      { question: "What kind of rewards are commonly associated with Zama OG NFT events?", options: ["Only vanity badges","Exclusive access, recognition, and sometimes monetary rewards","Only free software","Only NFT art downloads"], answer: "Exclusive access, recognition, and sometimes monetary rewards" },
      { question: "Who is the OG NFT usually aimed at?", options: ["Random website visitors","Active contributors and creators in the Zama community","Only Zama employees","Only investors"], answer: "Active contributors and creators in the Zama community" }
    ];

    let currentIndex = 0;
    let userAnswers = new Array(quizData.length).fill(null);

    const startScreen = document.getElementById('start-screen');
    const quizScreen = document.getElementById('quiz-screen');
    const startBtn = document.getElementById('start-btn');
    const quizContainer = document.getElementById('quiz-container');
    const nextBtn = document.getElementById('next-btn');
    const prevBtn = document.getElementById('prev-btn');
    const submitBtn = document.getElementById('submit-btn');
    const scoreEl = document.getElementById('score');
    const afterActions = document.getElementById('after-actions');
    const answersDiv = document.getElementById('answers');
    const progressBar = document.getElementById('progress-bar');
    const questionNumber = document.getElementById('question-number');
    const showAnswersBtn = document.getElementById('show-answers-btn');
    const restartBtn = document.getElementById('restart-btn');
    const shareBtn = document.getElementById('share-btn');

    startBtn.addEventListener("click", startQuiz);
    nextBtn.addEventListener("click", nextQuestion);
    prevBtn.addEventListener("click", prevQuestion);
    submitBtn.addEventListener("click", submitScore);
    showAnswersBtn.addEventListener("click", showAnswers);
    restartBtn.addEventListener("click", restartQuiz);
    shareBtn.addEventListener("click", shareOnX);

    function startQuiz() {
      startScreen.classList.add('hidden');
      quizScreen.classList.remove('hidden');
      renderQuestion();
    }

    function renderQuestion() {
      const q = quizData[currentIndex];
      quizContainer.innerHTML = `
        <div class="w-full max-w-xl bg-white rounded-lg shadow-md p-6 border">
          <h2 class="text-lg font-semibold text-gray-800 mb-4">${q.question}</h2>
          <div class="flex flex-col gap-3">
            ${q.options.map(opt => `
              <button class="option-btn text-left px-4 py-3 rounded-lg border border-gray-200 hover:shadow-sm transition">${opt}</button>
            `).join("")}
          </div>
        </div>
      `;

      document.querySelectorAll('.option-btn').forEach(btn => {
        btn.onclick = () => {
          userAnswers[currentIndex] = btn.textContent;
          document.querySelectorAll('.option-btn').forEach(b => b.classList.remove('bg-gradient-to-r','from-purple-600','to-cyan-400','text-white'));
          btn.classList.add('bg-gradient-to-r','from-purple-600','to-cyan-400','text-white');
          nextBtn.disabled = false;
          nextBtn.classList.remove('opacity-50');
          nextBtn.classList.add('bg-gradient-to-r','from-purple-600','to-cyan-400','text-white');
        };
      });

      prevBtn.style.display = currentIndex === 0 ? "none" : "inline-flex";
      nextBtn.style.display = currentIndex < quizData.length - 1 ? "inline-flex" : "none";
      submitBtn.style.display = currentIndex === quizData.length - 1 ? "inline-flex" : "none";
      nextBtn.disabled = !userAnswers[currentIndex];
      progressBar.style.width = ((currentIndex + 1) / quizData.length * 100) + "%";
      questionNumber.textContent = `Question ${currentIndex + 1} of ${quizData.length}`;
    }

    function nextQuestion() {
      if (currentIndex < quizData.length - 1) {
        currentIndex++;
        renderQuestion();
      }
    }

    function prevQuestion() {
      if (currentIndex > 0) {
        currentIndex--;
        renderQuestion();
      }
    }

    function submitScore() {
      let score = 0;
      quizData.forEach((q, i) => { if (userAnswers[i] === q.answer) score++; });
      scoreEl.textContent = `Your Score: ${score}/${quizData.length}`;
      scoreEl.classList.remove('hidden');
      afterActions.classList.remove('hidden');
      quizContainer.innerHTML = "";
      nextBtn.style.display = "none";
      prevBtn.style.display = "none";
      submitBtn.style.display = "none";
    }

    function showAnswers() {
      answersDiv.innerHTML = quizData.map((q, i) => `
        <div class="mb-3 p-3 bg-gray-50 rounded-md">
          <div class="font-medium text-gray-700">Q${i+1}: ${q.question}</div>
          <div class="text-sm text-gray-600 mt-1">Your: ${userAnswers[i] || '(no answer)'} | Correct: <span class="text-indigo-600">${q.answer}</span></div>
        </div>
      `).join("");
      answersDiv.classList.remove('hidden');
    }

    function restartQuiz() {
      currentIndex = 0;
      userAnswers.fill(null);
      scoreEl.classList.add('hidden');
      afterActions.classList.add('hidden');
      answersDiv.classList.add('hidden');
      quizScreen.classList.add('hidden');
      startScreen.classList.remove('hidden');
    }

    function shareOnX() {
      let score = 0;
      quizData.forEach((q, i) => { if (userAnswers[i] === q.answer) score++; });
      const text = encodeURIComponent(`I scored ${score}/${quizData.length} on the Zama FHE & OG NFT Quiz 🔐🧠`);
      const url = `https://x.com/intent/tweet?text=${text}`;
      window.open(url, "_blank");
    }
  </script>
</body>
</html>
